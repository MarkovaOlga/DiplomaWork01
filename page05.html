<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main_page.css">
    <title>Catalog</title>
</head>

<body>
    <div class="top center">
        <header class="header">
            <div class="header__buttons__left">
                <a class="header__button" href="https://developer.tekla.com/"><img src="image/Tekla-logo.svg.png" alt=""
                        width="100px"></a>
                
            </div>
            <div class="header__buttons__right">
                
                <a class="header__button hidemobile" href="main_page.html"><img src="image/Forma1(2).svg" alt=""></a>
                
            </div>
        </header>
        <div class="top-head">
            <h2 class="top-head__heading">TEKLA STRUCTURES - PLUGINS - How it works?</h2>
            
        </div>
    </div>

    <div class="filter-sort center">
        <details class="filter">
            <summary class="filter__summary"><span class="filter__heading hide_when_close">СОДЕРЖАНИЕ</span> <svg
                    class="filter__svg" width="15" height="10" viewBox="0 0 15 10" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M0.833333 10H4.16667C4.625 10 5 9.625 5 9.16667C5 8.70833 4.625 8.33333 4.16667 8.33333H0.833333C0.375 8.33333 0 8.70833 0 9.16667C0 9.625 0.375 10 0.833333 10ZM0 0.833333C0 1.29167 0.375 1.66667 0.833333 1.66667H14.1667C14.625 1.66667 15 1.29167 15 0.833333C15 0.375 14.625 0 14.1667 0H0.833333C0.375 0 0 0.375 0 0.833333ZM0.833333 5.83333H9.16667C9.625 5.83333 10 5.45833 10 5C10 4.54167 9.625 4.16667 9.16667 4.16667H0.833333C0.375 4.16667 0 4.54167 0 5C0 5.45833 0.375 5.83333 0.833333 5.83333Z"
                        fill="black" />
                </svg>
            </summary>
            <div class="filter__content">
                <details open class="filter__item">
                    <summary class="filter__head">ЧТО ТАКОЕ ПЛАГИН?</summary>
                    <div class="filter__link-box">
                        <a href="page01.html" class="filter__link">Плагины. Что это такое?</a>
                        <a href="page02.html" class="filter__link">Почему был выбран язык C#?</a>
                        <a href="page03.html" class="filter__link">Способы разработки графического интерфейса плагина</a>
                        <a href="page04.html" class="filter__link">Какие бывают плагины?</a>
                        <a href="page05.html" class="filter__link">Обязательные части плагина</a>
                    </div>

                </details>
                <details class="filter__item">
                    <summary class="filter__head">НАПИСАНИЕ ПЛАГИНА</summary>
                    <div class="filter__link-box">
                        <a href="page06.html" class="filter__link">Пространства имен</a>
                        <a href="page07.html" class="filter__link">Атрибуты</a>
                        <a href="page08.html" class="filter__link">Класс Input_Beam</a>
                        <a href="page09.html" class="filter__link">Метод DefineInput()</a>
                        <a href="page10.html" class="filter__link">Метод Run
                        </a>
                        <a href="page11.html" class="filter__link">Класс UI_Data</a>
                        <a href="page12.html" class="filter__link">Класс Preset</a>
                        <a href="page13.html" class="filter__link">Main_Panel</a>
                        <a href="page14.html" class="filter__link">Ui_Class_CheckBox</a>
                        <a href="page15.html" class="filter__link">TextBox</a>
                        <a href="page16.html" class="filter__link">OkApplyModifyGetOnOffCancel</a>
                        <a href="page17.html" class="filter__link">SaveLoad</a>
                        <a href="page18.html" class="filter__link">Метод GetValuesFromDialog()</a>
                        <a href="page19.html" class="filter__link">Метод SetValuesFromData</a>
                        <a href="page20.html" class="filter__link">Метод Main</a>
                    </div>

                </details>
                <details class="filter__item">
                    <summary class="filter__head">ТЕРМИНОЛОГИЯ</summary>
                    <div class="filter__link-box">
                        <a href="page_api.html" class="filter__link">Application programming interface(API)
                        </a>
                        <a href="page_tekla_api.html" class="filter__link">Tekla Open API</a>
                        <a href="page_language.html" class="filter__link">Язык С#</a>
                        <a href="page_termins.html" class="filter__link">Термины из языка C#</a>
                    </div>

                </details>
            </div>
        </details>

    </div>
    <div class="main_text center">
        <div class="main_text__text">
            <h1 class="main_text__heading">Обязательные части плагина</h1>
            <div class="main_text__description">
                <li>Плагин должен иметь интерфейс для связи с пользователем. Какой интерфейс будет использоваться, уточняется при создании класса экземпляра плагина в его атрибутах. Далее Tekla либо сама создает ему интерфейс, либо используется функционал операционной системы.
                </li>
                <li>Необходимо определить класс, который отвечает за пользовательские переменные плагина, который будет использоваться алгоритмом и будет связан(Bind) с пользовательским интерфейсом.
                </li>
                <li>Нужно сделать переопределение двух методов. В базовом классе методы определены, как абстрактные.
                </li>
                <p>Первый метод - метод ввода - DefineInput(), который возвращает тип объекта List<InputDefinition>(может состоять из точки, id объекта либо из списков точек и id).  Метод определяет ввод пользователя: то, как плагин требует от пользователя ввести точки, плоскости или объекты. Обычно в нижней левой части программа пишет указания на необходимые от пользователя действия. Чаще всего требуется что-либо указать мышкой.
                </p>
                <p>Второй метод - метод Run. В этом методе и определяется, что делает плагин. У метода Run в аргумантах находится то, что мы определили из метода DefineInput().
                </p>
                <p>Также можно определить метод Main. Cамой Tekla этот метод не нужен. При запуске программы Tekla  берет только два метода - метод ввода данных и метод run. Метод Main нужен для того, чтобы протестировать работу плагина, не встраивая его в текущую работу Tekla. Если мы разрабатываем на встроенном интерфейсе Tekla, то сможем протестировать только внутренний алгоритм, то есть метод run. Используя WPF или WinForms, можно сделать так, что у нас сначала запускается графический интерфейс и мы можем его проверить на относительную функциональность, а уже дальше запускается метод ввода. То есть мы можем протестировать плагин, не перезапуская Tekla, что позволяет экономить очень много времени.
                </p>
                <p>Дополнителоно в плагине можно определять методы, которые позволяют читать и записывать в сам плагин те значения атрибутов, которые пришли из интерфейса. Плагин, как элемент Tekla, хранит о себе какую-то информацию. Возникают такие ситуации, когда атрибут должен хранить неопределенное значение. На самой платформе Net FrameWork для этого используются специальные типы данных, например, string, которые могут иметь значение null, числовые типы данных, которые могут иметь значение none. Плагин же не умеет хранить значения в таком виде, поэтому он использует крайние значения этих атрибутов(например, самое минимальное или максимальное). Поэтому для алгоритма нужно расшифровывать эти значения и объяснять алгоритму, что это не бесконечные значения, а только неопределенные. В Tekla есть встроенный метод, которые позволяет это сделать - IsDefualt. Дополнительно можно определить метод, который записывает все значения, которые есть, в плагин. Примеры, выложенные в интернете на сайте с документацией, предполагают, что вы должны заново перечислить все атрибуты, которые есть у плагина и проверить их на дефолтные(неопределенные) значения и привести их к типам понятным для платформы NET Framework. Особо тяжелые плагины могут иметь десятки атрибутов. То есть сначала их нужно объявить, призязать к интерфейсу, после чего все тоже самое нужно сделать в методе записи и методе чтения. Чтобы не тратить на это время, может быть разработан более эффективный метод с  использованием рефлексии классов. Это позволяет сразу сделать все необходимые действия, независимо от их общего количества. Однако данный метод выходит за рамки нашей дипломной работы из-за повышенной сложности. 
                </p>
                <p>Целью нашей работы будет создание простого плагина, который будет запрашивать у пользователя ввод двух точек, и на основании этих двух точек он будет строить балку заранее определенного сечения. Также мы создадим пользовательский интерфейс на основе Windows Forms, через который пользователь может указать, какой используется цвет(класс).
                </p>
                <p>Большую часть плагина можно брать за основу для будующих плагинов, так как большая часть кода является обязательной для создания любого модельного плагина.
                </p>
                <p>Может возникнуть вопрос, для чего вообще нужены плагины в Tekla? Ведь ту же балку пользователь может сделать сам. Вообще все действия, которые делаются с помощью плагинов пользователь может сделать сам. Но Tekla с помощью плагина сделает это значительно быстрее. В этом и суть автоматизации - ускорение действий пользователя. Также плагины решают проблему с внесением изменений в модель. При измениниях в модели плагин может реагировать на эти изменения, так как элементы находятся во взаимосвязи друг с другом и измениние одного объекта, изменяет и другой объект.  Tekla не практикует автоналожение связей на макроуровне, то есть сам инженер решает, будет ли в этом месте взаимосвязь между элементами или нет, и если будет, то какая. Плагин же будет работать более точно, но по какому-то определенному алгоритму. Плагины также позволяют более полно раскрыть возможности самой Tekla, очень многое от пользователя спрятано и штатными интструментами некоторые действия произвести невозможно. Например, запросив балку, стандартный отчет выведет информацию о всех пользовательских и системных атрибутах, в то же время, запросив отчет о точке, линии или дуге, стандартный отчет выведет информацию только о положении элемента. Хотя на эти элементы, так же как и на балку, могут быть назначены пользовательские атрибуты.
                </p>
            </div>
        </div>

    </div>

    <footer class="footer center">

        <section class="footer__copyrights">
            <p class="footer__copyright">&copy;&nbsp;2024</p>
            <div class="footer__social__icons">
                <a class="footer__social__icon" href="#"><img src="image/2.svg" alt=""></a>
                <a class="footer__social__icon" href="#"><img src="image/4.svg" alt=""></a>
                <a class="footer__social__icon" href="#"><img src="image/5.svg" alt=""></a>
                <a class="footer__social__icon" href="#"><img src="image/6.svg" alt=""></a>
            </div>
        </section>
    </footer>
</body>

</html>