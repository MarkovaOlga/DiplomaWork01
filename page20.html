<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main_page.css">
    <title>Catalog</title>
</head>

<body>
    <div class="top center">
        <header class="header">
            <div class="header__buttons__left">
                <a class="header__button" href="https://developer.tekla.com/"><img src="image/Tekla-logo.svg.png" alt=""
                        width="100px"></a>
                
            </div>
            <div class="header__buttons__right">
                
                <a class="header__button hidemobile" href="main_page.html"><img src="image/Forma1(2).svg" alt=""></a>
                
            </div>
        </header>
        <div class="top-head">
            <h2 class="top-head__heading">TEKLA STRUCTURES - PLUGINS - How it works?</h2>
            
        </div>
    </div>

    <div class="filter-sort center">
        <details class="filter">
            <summary class="filter__summary"><span class="filter__heading hide_when_close">СОДЕРЖАНИЕ</span> <svg
                    class="filter__svg" width="15" height="10" viewBox="0 0 15 10" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M0.833333 10H4.16667C4.625 10 5 9.625 5 9.16667C5 8.70833 4.625 8.33333 4.16667 8.33333H0.833333C0.375 8.33333 0 8.70833 0 9.16667C0 9.625 0.375 10 0.833333 10ZM0 0.833333C0 1.29167 0.375 1.66667 0.833333 1.66667H14.1667C14.625 1.66667 15 1.29167 15 0.833333C15 0.375 14.625 0 14.1667 0H0.833333C0.375 0 0 0.375 0 0.833333ZM0.833333 5.83333H9.16667C9.625 5.83333 10 5.45833 10 5C10 4.54167 9.625 4.16667 9.16667 4.16667H0.833333C0.375 4.16667 0 4.54167 0 5C0 5.45833 0.375 5.83333 0.833333 5.83333Z"
                        fill="black" />
                </svg>
            </summary>
            <div class="filter__content">
                <details open class="filter__item">
                    <summary class="filter__head">ЧТО ТАКОЕ ПЛАГИН?</summary>
                    <div class="filter__link-box">
                        <a href="page01.html" class="filter__link">Плагины. Что это такое?</a>
                        <a href="page02.html" class="filter__link">Почему был выбран язык C#?</a>
                        <a href="page03.html" class="filter__link">Способы разработки графического интерфейса плагина</a>
                        <a href="page04.html" class="filter__link">Какие бывают плагины?</a>
                        <a href="page05.html" class="filter__link">Обязательные части плагина</a>
                    </div>

                </details>
                <details class="filter__item">
                    <summary class="filter__head">НАПИСАНИЕ ПЛАГИНА</summary>
                    <div class="filter__link-box">
                        <a href="page06.html" class="filter__link">Пространства имен</a>
                        <a href="page07.html" class="filter__link">Атрибуты</a>
                        <a href="page08.html" class="filter__link">Класс Input_Beam</a>
                        <a href="page09.html" class="filter__link">Метод DefineInput()</a>
                        <a href="page10.html" class="filter__link">Метод Run
                        </a>
                        <a href="page11.html" class="filter__link">Класс UI_Data</a>
                        <a href="page12.html" class="filter__link">Класс Preset</a>
                        <a href="page13.html" class="filter__link">Main_Panel</a>
                        <a href="page14.html" class="filter__link">Ui_Class_CheckBox</a>
                        <a href="page15.html" class="filter__link">TextBox</a>
                        <a href="page16.html" class="filter__link">OkApplyModifyGetOnOffCancel</a>
                        <a href="page17.html" class="filter__link">SaveLoad</a>
                        <a href="page18.html" class="filter__link">Метод GetValuesFromDialog()</a>
                        <a href="page19.html" class="filter__link">Метод SetValuesFromData</a>
                        <a href="page20.html" class="filter__link">Метод Main</a>
                    </div>

                </details>
                <details class="filter__item">
                    <summary class="filter__head">ТЕРМИНОЛОГИЯ</summary>
                    <div class="filter__link-box">
                        <a href="page_api.html" class="filter__link">Application programming interface(API)
                        </a>
                        <a href="page_tekla_api.html" class="filter__link">Tekla Open API</a>
                        <a href="page_language.html" class="filter__link">Язык С#</a>
                        <a href="page_termins.html" class="filter__link">Термины из языка C#</a>
                    </div>

                </details>
            </div>
        </details>

    </div>
    <div class="main_text center">
        <div class="main_text__text">
            <h1 class="main_text__heading">Метод Main</h1>
            <div class="main_text__description">
                <p>Сигнатура:
                </p>
                <li> возвращает void
                </li>
                <li> без аргументов
                </li>
                <p>Необязательной частью плагина является метод для отладки. Без него не сможем тестировать наш плагин в Visual Studio.
                </p>
                <p>Создаем для этой цели метод Main (делаем его публичным и статичным). Именно здесь мы будем проверять, что наши алгоритм и интерфейс функуионируют правильно.
                </p>
                <img src="image/image17.jpg" alt="">
                <p>В первой строчке мы отпределяем с какими настройками будет запускаться интерфейс ("language","RUSSIAN"). Rогда мы запускаем плагин через Tekla, она сама накладывает эти характеристики. Когда мы его запускаем по сути в качестве отдельно стоящего приложения, мы должны это прописать сами. 
                </p>
                <p>Есть несколько вариантов запуска отладчика:
                </p>
                <li> сначала создаем и показываем интерфейс, а потом запускаем алгоритм
                </li>
                <li> запускаем алгоритм, а потом показываем интерфейс 
                </li>
                <li> только алгоритм 
                </li>
                <li> только интерфейс. 
                </li>
                <p>Чтобы все это не писать по несколько раз, мы эти типовые действия описываем в качестве делегатов, а потом эти делегаты запускаем в случае определенного значения. Сначала мы определяем какие именно действия. Но исполняться они будут в другом месте.
                </p>
                <p>Внутри делегата мы создаем объект класса Preset, применяем к нему метод show, используем класс Aplication внутри Windows Forms и запускаем приложение с помощью нашей формы.
                </p>
                <p>Во второй части создаем  экземпляр нашего плагина. Далее идут способы запуска.
                </p>
                <p>В делегатах мы только определили действия, а далее через switch определяем, что именно будет запускаться: только интерфейс, или только алгоритм, или все вместе (запискаться они могут в разном порядке). Теперь мы сможем задавать, что именно мы отлаживаем.
                </p>
                <img src="image/image18.jpg" alt="">
                <p>Для отладки нам нужно перейти в свойства проекта и выбрать "Тип входных данный" - "Приложение Windows", так как отлаживать мы его можем именно в режиме приложения.
                </p>
                <img src="image/image19.jpg" alt="">
                <p>В результате проверки интерфейса (выбираем case 0) убеждаемся, что он отображается верно. Получаем следующее окно
                </p>
                <img src="image/image20.jpg" alt="">
                <p>Далее проверяем сам алгоритм (case 3). Указываем на модели две точки и видим, что балка строится
                </p>
                <img src="image/image21.jpg" alt="">
                <p>Чтобы плагин заработал, изменяем в свойствах проекта "Тип выходных данных" обратно на "Библиотека классов"
                </p>
                <img src="image/image22.jpg" alt="">
                <p>Теперь проект нужно "Пересобрать" или "Собрать", нажав правой кнопкой мыши на название плагина. Далее также, нажав на название плагина, выбираем "Открыть папку в проводнике" => bin => Debug, здесь и находится наш плагин с расширением .dll.
                </p>
                <p>Далее находим, где у нас устпановлена Tekla -  папка TeklaStructures => выбираем версию программы => nt => bin => plugins и можно либо сюда поместить файл, либо создать свою папку.
                </p>
                <p>Теперь запускаем клиент Tekla, запускаем любую модель (после перемещения в нужную папку, плагин доступен в любом проекте).
                </p>
                <p>Важно понимать, что изменение имени плагина, означает создание нового плагина, все предыдущие вхождения плагина в программу будут неработоспособными (т.е. созданные плагином объекты продолжат существовать, но если плагин предполагает дальнейшую работу с элементами, этого делать не получится, с элементом можно будет продолжить только в рамках инструментария самой Tekla). 
                </p>
                <p>В случае многопользовательской модели, если разные пользователи имеют разные плагины имеющие одинаковое имя,  у каждого из них экземпляр плагина будет работать по алгоритму его локального плагина.
                </p>
                <p>В Tekla можно проверить, загрузился ли наш плагин. Для этого заходим в "Журналы"=>"Журнал истории сеанса", здесь показывается вся загрузка Tekla и здесь можно найти и наш плагин.
                </p>

            </div>
        </div>

    </div>

    <footer class="footer center">

        <section class="footer__copyrights">
            <p class="footer__copyright">&copy;&nbsp;2024</p>
            <div class="footer__social__icons">
                <a class="footer__social__icon" href="#"><img src="image/2.svg" alt=""></a>
                <a class="footer__social__icon" href="#"><img src="image/4.svg" alt=""></a>
                <a class="footer__social__icon" href="#"><img src="image/5.svg" alt=""></a>
                <a class="footer__social__icon" href="#"><img src="image/6.svg" alt=""></a>
            </div>
        </section>
    </footer>
</body>

</html>